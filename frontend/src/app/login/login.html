<div class="login-wrapper"> <!--contenedor principal-->
  <div class="login-card"> <!--caja blanca del formulario -->
    <h1>Iniciar sesión</h1>
    <p class="subtitle">¡Tu equipo te espera! Inicia sesión para volver a la aventura y atraparlos a todos en el mundo de Xuxemon.</p>

    <!-- loginForm: Vincula el formulario HTML con la variable que esta en el ts. Esto permite a Angular controlar todo el formulario. -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label for="userId">ID de jugador</label>
        <input
          id="userId"
          type="text"
          formControlName="userId"
          placeholder="#Nombre0000"
        />
        @if (loginForm.get('userId')?.invalid && loginForm.get('userId')?.touched) {
          <span class="error-text">El ID es obligatorio</span>
        }
        <!-- Muestra mensaje de error si el campo es invalido -->
      </div>

      <div class="form-group">
          <label for="password">Contraseña</label>
          <input
            id="password"
            type="password"
            formControlName="password"
            placeholder="Mínimo 8 caracteres"
          />
          @if (loginForm.get('password')?.errors?.['required'] && loginForm.get('password')?.touched) {
            <span class="error-text">La contraseña es obligatoria</span>
          }
          @if (loginForm.get('password')?.errors?.['minlength'] && loginForm.get('password')?.touched) {
            <span class="error-text">Mínimo 8 caracteres</span>
          }
        </div>


        @if (errorMessage) {
          <div class="alert-error">{{ errorMessage }}</div>
        }


        <button type="submit" [disabled]="loginForm.invalid" class="btn-primary">
          Entrar
        </button>


      </form>


      <p class="redirect-link">
        ¿No tienes cuenta? <a routerLink="/registro">Regístrate</a>
      </p>
    </div>
  </div>
